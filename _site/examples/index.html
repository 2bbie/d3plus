<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>D3plus Examples</title>
    <meta name="description" content="Data visualization made easy. A javascript library that extends the popular D3.js to enable fast and beautiful visualizations."/>

    <link rel="shortcut icon" type="image/png" href="/assets/img/favicon.ico">
    <link rel="apple-touch-icon" sizes="256x256" href="/assets/img/touchicon.png">

    <!-- Facebook Properties -->
    <meta property="og:image" content="http://d3plus.org/assets/img/facebook.jpg" />

    <!-- Custom CSS -->
    <link href="/css/styles.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Font-Awesome -->
    <link href="/assets/font-awesome-4.0.3/css/font-awesome.min.css" media="screen" rel="stylesheet" type="text/css" />

  </head>
  <body>

    <header>
      <nav>
        <h1><a href="/">D3plus</a></h1>
        
        
        <a class="active" href="/examples/">Examples</a>
        
        <a  href="https://github.com/alexandersimoes/d3plus/wiki">Documentation</a>
        
        <a  href="/workshops/">Workshops</a>
        
        <a  href="/d3plus.zip">Download</a>
        
        <a  href="https://github.com/alexandersimoes/d3plus">Source</a>
        
      </nav>
    </header>


    <div id="content">
      <section>
  <h2></h2>
</section>

<script src="/js/d3.js"></script>
<script src="http://d3js.org/queue.v1.min.js"></script>
<script src="/js/showdown.js"></script>

<script>

  var id = location.search.substr(1)

  function adjustIframeSize(newHeight) {
    var i = document.getElementById("gistFrame");
    i.style.height = parseInt(newHeight) + "px";
  }

  if (id) {

    d3.json("https://api.github.com/gists/"+id,function(error,gist){

      if (error || gist.length == 0) {

        d3.select("section h2").text("Error loading example.")

      }
      else {

        var section = d3.select("section")

        var title = gist.description || id

        document.title = title +" with D3plus"

        section.select("h2").text(title)

        var readme = gist.files["README.md"]
        if (readme) {

          var md = readme.content.replace(/\n\nFeatured on \[D3plus\.org\]\(http\:\/\/www\.d3plus\.org\/\)/g,"")
          md = md.replace(/\nFeatured on \[D3plus\.org\]\(http\:\/\/www\.d3plus\.org\/\)/g,"")
          md = md.replace(/Featured on \[D3plus\.org\]\(http\:\/\/www\.d3plus\.org\/\)/g,"")

          var converter = new Showdown.converter(),
              html = converter.makeHtml(md)

          section.append("p").attr("class","example").html(html)

        }

        var block = "http://bl.ocks.org/"+gist.user.login+"/raw/"+id+"/"+gist.history[0].version+"/"

        section.append("a")
          .attr("class","button right")
          .attr("href",block)
          .attr("target","_blank")
          .html("View Standalone <i class='fa fa-angle-right'></i>")

        section.append("iframe")
          .attr("class","example")
          .attr("width","960")
          .attr("height","640")
          .attr("src",block)

        var code = "https://gist.github.com/"+gist.user.login+"/"+id+".js?file=index.html"

        var gistFrame = section.append("iframe")
          .attr("id","gistFrame")
          .attr("class","example")
          .attr("width","960").node()

  			// Create the iframe's document
  			var gistFrameHTML = '<html><body onload="parent.adjustIframeSize(document.body.scrollHeight)"><scr' + 'ipt type="text/javascript" src="' + code + '"></sc'+'ript></body></html>';

  			// Set iframe's document with a trigger for this document to adjust the height
  			var gistFrameDoc = gistFrame.document;

  			if (gistFrame.contentDocument) {
  				gistFrameDoc = gistFrame.contentDocument;
  			} else if (gistFrame.contentWindow) {
  				gistFrameDoc = gistFrame.contentWindow.document;
  			}

  			gistFrameDoc.open();
  			gistFrameDoc.writeln(gistFrameHTML);
  			gistFrameDoc.close();

      }

    })

  }
  else {

    var q = queue()
    
      q.defer(d3.json,"https://api.github.com/users/davelandry/gists?client_id=85fd2434dd8ebd42c68d&client_secret=d3c1a4d9fb8752c9d6e9a4c8726fd9e6cfbd0067")
    
      q.defer(d3.json,"https://api.github.com/users/alexandersimoes/gists?client_id=85fd2434dd8ebd42c68d&client_secret=d3c1a4d9fb8752c9d6e9a4c8726fd9e6cfbd0067")
    
    q.awaitAll(function(error,data){

      if (error || data.length == 0) {

        d3.select("section h2").text("Error loading examples.")

      }
      else {

        var merged = []
        merged = merged.concat.apply(merged,data).filter(function(g){
          return g.public
        })

        var gists = {}
        merged.forEach(function(m){
          gists[m.id] = m
        })

        d3.select("section").remove()

        function enter(elem) {

          elem.style("opacity",0)
            .transition().duration(300)
            .style("opacity",1)

        }

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Tree Map")
            .call(enter)

          

            var gist = gists[9029130]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9029130")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9029130")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

            var gist = gists[9860719]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9860719")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9860719")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

            var gist = gists[9860411]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9860411")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9860411")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

            var gist = gists[9860999]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9860999")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9860999")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Scatter")
            .call(enter)

          

            var gist = gists[9029781]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9029781")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9029781")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

            var gist = gists[9861345]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9861345")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9861345")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Line Chart")
            .call(enter)

          

            var gist = gists[9037371]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9037371")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9037371")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

            var gist = gists[9862486]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9862486")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9862486")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Stacked Area Chart")
            .call(enter)

          

            var gist = gists[9029462]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9029462")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9029462")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Network")
            .call(enter)

          

            var gist = gists[9042919]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9042919")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9042919")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Rings")
            .call(enter)

          

            var gist = gists[9034389]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9034389")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9034389")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

          var section = d3.select("#content").append("section")
          section.append("h2").text("Geo Map")
            .call(enter)

          

            var gist = gists[9042807]

            if (gist) {

              var title = gist.description || gist.id,
                  image = gist.files["thumbnail.png"]
                    ? gist.files["thumbnail.png"].raw_url
                    : "/assets/img/thumbnail.png"

              var button = section.append("a")
                .attr("class","example")
                .attr("href","?9042807")
                .call(enter)

              button.append("img")
                .attr("src",image)
                .attr("alt","9042807")

              button.append("div")
                .attr("class","title")
                .text(title)

              button.append("div")
                .attr("class","date")
                .text("Updated "+new Date(gist.updated_at).toLocaleDateString())

            }

          

        

      }
    })

  }

</script>

    </div>

    <footer>
      <h4>Sites that use D3plus:</h4>
      <a href="http://www.dataviva.info" target="_blank">
        <img src="/assets/img/dataviva.png" width="150px">
      </a>
      <a href="http://atlas.media.mit.edu" target="_blank">
        <img src="/assets/img/oec.png" width="150px">
      </a>
      <a href="http://pantheon.media.mit.edu" target="_blank">
        <img src="/assets/img/pantheon.png" width="150px">
      </a>
    </footer>

    <script type="text/javascript">

      // Google Analytics
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-46067436-1', 'd3plus.org');
      ga('send', 'pageview');

    </script>

  </body>
</html>
