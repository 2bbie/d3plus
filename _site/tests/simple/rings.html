<!DOCTYPE html>
<meta charset="utf-8">
<link href="../../d3plus.css" rel="stylesheet" type="text/css">
<style>

body {
  margin: 0px; padding:0;
}


</style>
<body style="overflow:hidden">

<div id="viz"></div>

<script src="../../lib/d3.js"></script>
<script src="../../lib/modernizr.custom.js"></script>
<!-- <script src="../../d3plus.js"></script> -->

<script src="../../src/general.js"></script>
<script src="../../src/public.js"></script>
<script src="../../src/viz.js"></script>

<script src="../../src/apps/rings.js"></script>

<script src="../../src/data/color.js"></script>
<script src="../../src/data/filter.js"></script>
<script src="../../src/data/format.js"></script>
<script src="../../src/data/nest.js"></script>

<script src="../../src/shapes/area.js"></script>
<script src="../../src/shapes/color.js"></script>
<script src="../../src/shapes/donut.js"></script>
<script src="../../src/shapes/draw.js"></script>
<script src="../../src/shapes/fill.js"></script>
<script src="../../src/shapes/labels.js"></script>
<script src="../../src/shapes/line.js"></script>
<script src="../../src/shapes/links.js"></script>
<script src="../../src/shapes/rect.js"></script>
<script src="../../src/shapes/style.js"></script>

<script src="../../src/styles/default.js"></script>

<script src="../../src/tooltip/app.js"></script>
<script src="../../src/tooltip/arrow.js"></script>
<script src="../../src/tooltip/create.js"></script>
<script src="../../src/tooltip/data.js"></script>
<script src="../../src/tooltip/move.js"></script>
<script src="../../src/tooltip/remove.js"></script>

<script src="../../src/utils/color.js"></script>
<script src="../../src/utils/error.js"></script>
<script src="../../src/utils/titles.js"></script>
<script src="../../src/utils/utils.js"></script>
<script src="../../src/utils/variables.js"></script>
<script src="../../src/utils/wordwrap.js"></script>

<script>

  var viz = d3plus.viz()

  d3.json("data/data.json", function(data){
    d3.json("data/group.json", function(group){
      d3.json("data/id.json", function(id){
        d3.json("data/network.json", function(network){
          
          // Keyed Attribute Arrays
          var attrs = {
            "group": group,
            "id": id
          }
        
          viz
              // .dev(true)
              .attrs(attrs)
              .type("rings")
              .data(data)
              .id(["group","id"])
              .size("value")
              .color("group")
              .depth(1)
              .focus(1)
              .text({"group": "title", "id": "name"})
              .shape("circle")
              .nodes(network.nodes)
              .links(network.links)
      
            d3.select("#viz")
              .call(viz)
  
        })
      })
    })
  })

</script>