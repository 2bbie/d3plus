<!DOCTYPE html>
<meta charset="utf-8">
<link href="../src/vizwhiz.css" rel="stylesheet" type="text/css">
<style>

body {
  
}

</style>
<body>

<div id="viz"></div>

<script src="../lib/d3.js"></script>
<script src="../lib/modernizr.custom.js"></script>
<script src="../src/general.js"></script>
<script src="../src/utils.js"></script>
<script src="../src/viz/tree_map.js"></script>
<script>

var width = 960,
  height = 550,
  margin = {top: 5, right: 40, bottom: 20, left: 120};

var viz = vizwhiz.viz.tree_map()
  .width(width - margin.right - margin.left)
  .height(height - margin.top - margin.bottom);


var data =   {
  "name": "flare",
  "children": [
    {
      "name": "Countries",
      "children": [
      {
        "name": "South America",
        "children": [
            {"name": "Brazil", "value": 3938, "color": "#43f9c2"},
            {"name": "Bolivarian Republic of Venezuela", "value": 3812, "color": "#43f9c2"},
            {"name": "Peru", "value": 743, "color": "#43f9c2"}
          ]
        },
        {
          "name": "North America",
          "children": [
            {"name": "Mexico", "value": 3534, "color": "#ca3422"},
            {"name": "United States of America", "value": 5731, "color": "#ca3422"}
          ]
        }
      ]
    }
  ]
}

var data2 =   {
  "name": "flare",
  "children": [
    {
      "name": "Countries",
      "children": [
      {
        "name": "South America",
        "children": [
            {"name": "Brazil", "value": 1938, "color": "#43f9c2"},
            {"name": "Bolivarian Republic of Venezuela", "value": 4812, "color": "#43f9c2"},
            {"name": "Peru", "value": 1243, "color": "#43f9c2"},
            {"name": "Argentina", "value": 3043, "color": "#43f9c2"}
          ]
        },
        {
          "name": "North America",
          "children": [
            {"name": "Mexico", "value": 2534, "color": "#ca3422"},
            {"name": "United States of America", "value": 3731, "color": "#ca3422"}
          ]
        }
      ]
    }
  ]
}

d3.select("#viz")
  .datum(data)
  .call(viz)

d3.select('body').on('click', window.transition);

setTimeout(function(){
  d3.select("#viz")
    .datum(data2)
    .call(viz)
},3000)

</script>